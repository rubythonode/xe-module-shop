{@
  // View used for displaying cart or order products
  // Before loading template file please set:
  //    - $product_container => your cart or order; must implement IProductItemsContainer
  //    - $shop => of type ShopInfo, object containing info about currency, vat and discount global settings
}
<!--@if($product_container instanceof IProductItemsContainer && $shop instanceof ShopInfo)-->
<table border="0" cellspacing="0" cellpadding="0" class="dataTable">
    <thead>
        <tr>
            <th></th>
            <th colspan="2">{$lang->title}</th>
            <th>{$lang->quantity}</th>
            <th>{$lang->price}</th>
            <th>{$lang->subtotal}</th>
        </tr>
    </thead>
    <tbody>
        <!-- Products -->
        {@ $i = 0 }
        {@ $product_items = $product_container->getProducts() }
        <!--@foreach($product_items as $product)-->
            <!--@if($product instanceof IProductItem)-->
            <tr>
                <td>{@ ++$i;}{$i}</td>
                <td><p><img src="{$product->getThumbnailPath(70)}" /></p></td>
                <td>{$product->getTitle()}</td>
                <td>{$product->getQuantity()}</td>
                <td>{ShopDisplay::priceFormat($product->getPrice(), $shop->getCurrencySymbol())}</td>
                <td>{ShopDisplay::priceFormat($product->getPrice() * $product->getQuantity(), $shop->getCurrencySymbol())}</td>
            </tr>
            <!--@end-->
        <!--@end-->
        <!-- // Products -->
    </tbody>
    <tfoot>
        <!-- Total before discount -->
        <tr>
            <td colspan="4"></td>
            <td>{$lang->total}</td>
            <td>
                {ShopDisplay::priceFormat($product_container->getTotalBeforeDiscount(), $shop->getCurrencySymbol())}
            </td>
        </tr>
        <!-- // Total before discount -->

        <!-- Discount -->
        <tr cond="$product_container->getDiscountAmount()">
            <td colspan="4">
            </td>
            <td><a href="#" onclick="alert('{$product_container->getDiscountName()}\n\n{$product_container->getDiscountDescription()}'); return false">Discount</a></td>
            <td>
                {ShopDisplay::priceFormat(-1 * $product_container->getDiscountAmount(), $shop->getCurrencySymbol())}
            </td>
        </tr>
        <!-- // Discount -->

        <!-- Shipping cost -->
        <tr>
            <td colspan="4"></td>
            <td>Shipping</td>
            <td>
                {ShopDisplay::priceFormat($product_container->getShippingCost(), $shop->getCurrencySymbol())}
            </td>
        </tr>
        <!-- // Shipping cost -->

        <!-- Grand total -->
        <tr style="font-weight: bold;">
            <td colspan="4">
            </td>
            <td>{$lang->grand_total}</td>
            <td>
                {ShopDisplay::priceFormat($product_container->getTotal(), $shop->getCurrencySymbol())}
            </td>
        </tr>
        <!-- // Grand total -->

        <!-- VAT -->
        <tr cond="$shop->showVAT()">
            <td colspan="4"></td>
            <td>
                {$lang->taxes}
            </td>
            <td>
                {ShopDisplay::priceFormat($product_container->getVAT(), $shop->getCurrencySymbol())}
            </td>
        </tr>
        <!-- // VAT -->

    </tfoot>
</table>
<!--@end-->